<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FALAAI - Rede Social Completa</title>
<style>
  /* RESET b치sico e fonte */
  * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
  body { background:#f4f6f8; color:#222; min-height: 100vh; display: flex; flex-direction: column; }
  header, nav, main { width: 100%; max-width: 900px; margin: auto; }
  header { background: #3f51b5; color: white; padding: 1rem 1.5rem; display: flex; justify-content: space-between; align-items: center; }
  header h1 { font-weight: 700; font-size: 1.5rem; }
  header button { background: transparent; border: none; color: white; font-size: 1rem; cursor: pointer; }

  /* Nav inferior */
  nav { background: #fff; box-shadow: 0 -2px 6px rgba(0,0,0,0.1); position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); max-width: 900px; display: flex; justify-content: space-around; padding: 0.7rem 0; }
  nav button { background: none; border: none; color: #555; font-size: 1.1rem; cursor: pointer; padding: 0.5rem 1rem; border-radius: 6px; transition: background-color 0.3s ease; }
  nav button.active, nav button:hover { background: #3f51b5; color: white; }

  main { padding-bottom: 60px; margin-top: 0.5rem; }

  /* P치ginas */
  section.page { display: none; }
  section.page.active { display: block; }

  /* LOGIN */
  #login { max-width: 350px; margin: 5rem auto 0; background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 0 15px rgb(0 0 0 / 0.1); }
  #login h2 { margin-bottom: 1rem; color: #3f51b5; font-weight: 700; text-align: center; }
  #login form { display: flex; flex-direction: column; }
  #login label { margin-top: 1rem; font-weight: 600; }
  #login input { margin-top: 0.3rem; padding: 0.6rem; border-radius: 6px; border: 1px solid #ccc; font-size: 1rem; }
  #login button { margin-top: 1.5rem; background: #3f51b5; color: white; border: none; padding: 0.8rem; font-weight: 700; border-radius: 6px; cursor: pointer; }
  #login-error { color: red; margin-top: 1rem; font-weight: 700; display: none; text-align: center; }

  /* FEED */
  #feed h2 { margin-bottom: 1rem; color: #3f51b5; font-weight: 700; }
  #feed form#postForm textarea { width: 100%; resize: vertical; padding: 0.8rem; border-radius: 10px; border: 1px solid #ccc; font-size: 1rem; }
  #feed form#postForm button { margin-top: 0.5rem; background: #3f51b5; color: white; border: none; padding: 0.8rem 1rem; border-radius: 10px; cursor: pointer; font-weight: 700; }
  #postsContainer { margin-top: 1rem; display: flex; flex-direction: column; gap: 1rem; }

  /* POSTAGEM */
  .post { background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgb(0 0 0 / 0.08); }
  .post-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 0.6rem; }
  .post-header img.avatar-sm { width: 36px; height: 36px; border-radius: 50%; object-fit: cover; }
  .post-header .author { font-weight: 700; color: #3f51b5; }
  .post-header .admin-badge { background: #d33; color: white; font-size: 0.7rem; padding: 0.1rem 0.4rem; border-radius: 4px; margin-left: 6px; }
  .post-content { white-space: pre-wrap; margin-bottom: 0.6rem; font-size: 1rem; line-height: 1.3; }
  .post-actions { display: flex; gap: 1rem; font-size: 0.9rem; color: #555; align-items: center; }
  .post-actions button, .post-actions span.like-btn { cursor: pointer; background: none; border: none; padding: 0; color: #555; display: flex; align-items: center; gap: 0.3rem; font-weight: 600; }
  .post-actions span.like-btn.liked { color: #d33; }
  .post-actions button.delete-btn { color: #d33; font-weight: 700; }
  .comments-list { margin-top: 0.6rem; border-top: 1px solid #eee; padding-top: 0.5rem; max-height: 200px; overflow-y: auto; }
  .comment { font-size: 0.9rem; margin-bottom: 0.3rem; }
  .comment .comment-author { font-weight: 700; margin-right: 4px; }
  .comment .comment-text { white-space: pre-wrap; }
  .comment .comment-admin-badge { background: #d33; color: white; font-size: 0.6rem; padding: 0.1rem 0.3rem; border-radius: 3px; margin-left: 3px; }
  .comment-form { margin-top: 0.4rem; display: flex; gap: 0.5rem; }
  .comment-form input { flex: 1; padding: 0.4rem 0.6rem; border-radius: 6px; border: 1px solid #ccc; font-size: 0.9rem; }
  .comment-form button { background: #3f51b5; color: white; border: none; padding: 0.4rem 0.8rem; border-radius: 6px; cursor: pointer; font-weight: 700; }

  /* PERFIL */
  #perfil h2 { color: #3f51b5; font-weight: 700; margin-bottom: 1rem; }
  #perfil .profile-container { background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgb(0 0 0 / 0.08); max-width: 400px; margin: auto; }
  #perfil img.avatar-large { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; display: block; margin: auto; margin-bottom: 1rem; cursor: pointer; }
  #perfil input#avatarInput { display: none; }
  #perfil textarea#bioInput { width: 100%; height: 100px; border-radius: 10px; border: 1px solid #ccc; padding: 0.8rem; font-size: 1rem; resize: vertical; }
  #perfil .info-line { margin: 0.6rem 0; font-size: 1rem; text-align: center; color: #444; }
  #saveMsg { text-align: center; font-size: 0.9rem; color: green; margin-top: 0.5rem; display: none; font-weight: 700; }

  /* CHAT (DM) */
  #chat h2 { margin-bottom: 1rem; color: #3f51b5; font-weight: 700; }
  #chat .chat-container { background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgb(0 0 0 / 0.08); max-width: 600px; margin: auto; display: flex; flex-direction: column; height: 400px; }
  #chat .chat-messages { flex-grow: 1; overflow-y: auto; padding: 0.5rem; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 0.6rem; font-size: 0.9rem; background: #f9f9f9; }
  #chat .chat-messages div { margin-bottom: 0.5rem; }
  #chat .chat-input-area { display: flex; gap: 0.5rem; }
  #chat input#chatInput { flex-grow: 1; padding: 0.5rem 0.8rem; border-radius: 8px; border: 1px solid #ccc; font-size: 1rem; }
  #chat button#sendChatBtn { background: #3f51b5; color: white; border: none; padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; font-weight: 700; }

  /* LISTA DE USU츼RIOS PARA SEGUIR */
  #feed #usersToFollow { margin-top: 1rem; background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgb(0 0 0 / 0.08); max-width: 400px; }
  #feed #usersToFollow h3 { margin-bottom: 0.8rem; color: #3f51b5; font-weight: 700; }
  #feed #usersToFollow ul { list-style: none; max-height: 200px; overflow-y: auto; }
  #feed #usersToFollow li { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
  #feed #usersToFollow li button { background: #3f51b5; color: white; border: none; padding: 0.3rem 0.6rem; border-radius: 6px; font-weight: 700; cursor: pointer; }

  /* DARK MODE */
  body.dark { background: #222; color: #eee; }
  body.dark header { background: #1a237e; }
  body.dark nav { background: #111; box-shadow: 0 -2px 6px rgba(255,255,255,0.1); }
  body.dark nav button { color: #bbb; }
  body.dark nav button.active, body.dark nav button:hover { background: #3949ab; color: white; }
  body.dark #login { background: #333; color: #eee; box-shadow: 0 0 20px rgb(255 255 255 / 0.15); }
  body.dark input, body.dark textarea { background: #444; border-color: #555; color: #eee; }
  body.dark .post, body.dark #perfil .profile-container, body.dark #feed #usersToFollow, body.dark #chat .chat-container { background: #333; box-shadow: 0 2px 8px rgb(255 255 255 / 0.1); }
  body.dark .post-actions button, body.dark .post-actions span.like-btn, body.dark #feed #usersToFollow li button { color: #ccc; }
  body.dark .post-actions button.delete-btn { color: #f55; }
  body.dark .post-header .author { color: #8ab4f8; }
  body.dark .post-header .admin-badge { background: #b22; }
  body.dark .comment .comment-admin-badge { background: #b22; }

</style>
</head>
<body>

<header>
  <h1>FALAAI</h1>
  <div>
    <button id="btnToggleTheme" title="Alternar tema claro/escuro">游깹</button>
    <button id="btnLogout" style="display:none;">Sair</button>
  </div>
</header>

<main>

<!-- LOGIN -->
<section id="login" class="page active">
  <h2>Entrar na FALAAI</h2>
  <form id="loginForm">
    <label for="usernameInput">Usu치rio:</label>
    <input type="text" id="usernameInput" autocomplete="username" required />
    <label for="passwordInput">Senha:</label>
    <input type="password" id="passwordInput" autocomplete="current-password" required />
    <button type="submit">Entrar</button>
  </form>
  <div id="login-error"></div>
</section>

<!-- FEED -->
<section id="feed" class="page">
  <h2>Feed de Posts</h2>
  <form id="postForm">
    <textarea id="postContent" placeholder="O que est치 rolando?" rows="3" maxlength="500" required></textarea>
    <button type="submit">Publicar</button>
  </form>

  <div id="usersToFollow">
    <h3>Usu치rios para seguir</h3>
    <ul id="usersList"></ul>
  </div>

  <div id="postsContainer"></div>
</section>

<!-- PERFIL -->
<section id="perfil" class="page">
  <h2>Meu Perfil</h2>
  <div class="profile-container">
    <label for="avatarInput">
      <img src="" alt="Avatar" id="profileAvatar" class="avatar-large" title="Clique para trocar o avatar" />
    </label>
    <input type="file" accept="image/*" id="avatarInput" />
    <textarea id="bioInput" maxlength="250" placeholder="Escreva uma bio..."></textarea>
    <div class="info-line" id="profileUsername"></div>
    <button id="btnSaveProfile">Salvar perfil</button>
    <div id="saveMsg">Perfil salvo com sucesso!</div>
  </div>
</section>

<!-- CHAT -->
<section id="chat" class="page">
  <h2>Chat Privado (DM)</h2>
  <div class="chat-container">
    <div class="chat-messages" id="chatMessages"></div>
    <div class="chat-input-area">
      <input type="text" id="chatInput" placeholder="Digite sua mensagem..." maxlength="300" />
      <button id="sendChatBtn">Enviar</button>
    </div>
  </div>
</section>

</main>

<nav>
  <button id="navFeed" class="active">Feed</button>
  <button id="navPerfil">Perfil</button>
  <button id="navChat">Chat</button>
</nav>

<script>
(() => {
  'use strict';

  // ---------- Vari치veis globais ----------
  let currentUser = null; // objeto { username, isAdmin, data:{bio,avatar,following[],followers[],posts[],chat{}} }
  let allUsers = {}; // chave = username, valor = objeto data completo da conta

  // Elementos
  const loginPage = document.getElementById('login');
  const feedPage = document.getElementById('feed');
  const perfilPage = document.getElementById('perfil');
  const chatPage = document.getElementById('chat');

  const btnToggleTheme = document.getElementById('btnToggleTheme');
  const btnLogout = document.getElementById('btnLogout');

  const loginForm = document.getElementById('loginForm');
  const usernameInput = document.getElementById('usernameInput');
  const passwordInput = document.getElementById('passwordInput');
  const loginError = document.getElementById('login-error');

  const navFeed = document.getElementById('navFeed');
  const navPerfil = document.getElementById('navPerfil');
  const navChat = document.getElementById('navChat');

  const postForm = document.getElementById('postForm');
  const postContent = document.getElementById('postContent');
  const postsContainer = document.getElementById('postsContainer');

  const usersList = document.getElementById('usersList');

  const profileAvatar = document.getElementById('profileAvatar');
  const avatarInput = document.getElementById('avatarInput');
  const bioInput = document.getElementById('bioInput');
  const profileUsername = document.getElementById('profileUsername');
  const btnSaveProfile = document.getElementById('btnSaveProfile');
  const saveMsg = document.getElementById('saveMsg');

  const chatMessages = document.getElementById('chatMessages');
  const chatInput = document.getElementById('chatInput');
  const sendChatBtn = document.getElementById('sendChatBtn');

  // ---------- Helpers ----------
  function saveUsers() {
    localStorage.setItem('falaaiUsers', JSON.stringify(allUsers));
  }

  function loadUsers() {
    const usersStr = localStorage.getItem('falaaiUsers');
    allUsers = usersStr ? JSON.parse(usersStr) : {};
  }

  function saveCurrentUser() {
    if(currentUser) {
      allUsers[currentUser.username] = currentUser;
      saveUsers();
    }
  }

  // ---------- Navega칞칚o ----------
  function showPage(page) {
    loginPage.classList.remove('active');
    feedPage.classList.remove('active');
    perfilPage.classList.remove('active');
    chatPage.classList.remove('active');
    page.classList.add('active');
  }

  function updateNavButtons(activeBtn) {
    navFeed.classList.remove('active');
    navPerfil.classList.remove('active');
    navChat.classList.remove('active');
    activeBtn.classList.add('active');
  }

  // ---------- Login ----------
  function initAdmin() {
    if(!allUsers['saintex']) {
      allUsers['saintex'] = {
        username: 'saintex',
        password: 'ffg..1.',
        isAdmin: true,
        data: {
          bio: 'Administrador da FALAAI',
          avatar: '',
          following: [],
          followers: [],
          posts: [],
          chat: {}
        }
      };
      saveUsers();
    }
  }

  loginForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const username = usernameInput.value.trim();
    const password = passwordInput.value;

    if(allUsers[username] && allUsers[username].password === password) {
      currentUser = JSON.parse(JSON.stringify(allUsers[username]));
      loginError.textContent = '';
      showPage(feedPage);
      updateNavButtons(navFeed);
      btnLogout.style.display = 'inline-block';
      loadFeed();
      loadProfile();
      loadUsersToFollow();
      loadChat();
    } else {
      loginError.textContent = 'Usu치rio ou senha incorretos!';
    }
  });

  btnLogout.addEventListener('click', () => {
    currentUser = null;
    showPage(loginPage);
    updateNavButtons(null);
    btnLogout.style.display = 'none';
  });

  // ---------- Feed ----------
  function loadFeed() {
    postsContainer.innerHTML = '';
    let postsArr = [];

    for(let user in allUsers) {
      let userData = allUsers[user].data;
      if(userData.posts && userData.posts.length > 0) {
        userData.posts.forEach(post => {
          postsArr.push({...post, author: user});
        });
      }
    }

    postsArr.sort((a,b) => b.timestamp - a.timestamp);

    postsArr.forEach(post => {
      const postEl = createPostElement(post);
      postsContainer.appendChild(postEl);
    });
  }

  function createPostElement(post) {
    const div = document.createElement('div');
    div.className = 'post';
    div.dataset.id = post.id;

    let date = new Date(post.timestamp);
    let dateStr = date.toLocaleString();

    div.innerHTML = `
      <div class="post-header">
        <span class="author">${post.author}</span>
        ${allUsers[post.author].isAdmin ? '<span class="admin-badge">Admin</span>' : ''}
        <span class="timestamp">${dateStr}</span>
      </div>
      <div class="post-content">${escapeHtml(post.content)}</div>
      <div class="post-actions">
        <span class="like-btn" title="Curtir">仇벒잺 ${post.likes || 0}</span>
        <button class="delete-btn" title="Excluir post" style="display:none;">Excluir</button>
      </div>
      <div class="comments-container"></div>
      <form class="comment-form" style="margin-top:0.5rem;">
        <input type="text" class="comment-input" placeholder="Comentar..." maxlength="200" required />
        <button type="submit">Comentar</button>
      </form>
    `;

    // Mostrar bot칚o excluir se for dono do post ou admin
    if(currentUser.username === post.author || currentUser.isAdmin) {
      div.querySelector('.delete-btn').style.display = 'inline-block';
    }

    // Likes
    const likeBtn = div.querySelector('.like-btn');
    likeBtn.addEventListener('click', () => {
      if(!post.likesUsers) post.likesUsers = [];
      if(post.likesUsers.includes(currentUser.username)) {
        // unlike
        post.likes = (post.likes || 1) - 1;
        post.likesUsers = post.likesUsers.filter(u => u !== currentUser.username);
      } else {
        post.likes = (post.likes || 0) + 1;
        post.likesUsers.push(currentUser.username);
      }
      saveLike(post);
      likeBtn.textContent = `仇벒잺 ${post.likes || 0}`;
    });

    // Excluir post
    const deleteBtn = div.querySelector('.delete-btn');
    deleteBtn.addEventListener('click', () => {
      if(confirm('Excluir este post?')) {
        deletePost(post);
      }
    });

    // Coment치rios
    const commentsContainer = div.querySelector('.comments-container');
    const commentForm = div.querySelector('.comment-form');
    const commentInput = div.querySelector('.comment-input');

    function renderComments() {
      commentsContainer.innerHTML = '';
      if(post.comments && post.comments.length > 0) {
        post.comments.forEach(comment => {
          const cDiv = document.createElement('div');
          cDiv.className = 'comment';
          let cDate = new Date(comment.timestamp);
          let cDateStr = cDate.toLocaleString();
          cDiv.innerHTML = `
            <span class="comment-author">${comment.author}</span>
            ${allUsers[comment.author].isAdmin ? '<span class="comment-admin-badge">Admin</span>' : ''}
            <span class="comment-text">${escapeHtml(comment.text)}</span>
            <span class="comment-timestamp">${cDateStr}</span>
          `;
          commentsContainer.appendChild(cDiv);
        });
      }
    }
    renderComments();

    commentForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const commentText = commentInput.value.trim();
      if(commentText.length === 0) return;
      if(!post.comments) post.comments = [];
      post.comments.push({
        author: currentUser.username,
        text: commentText,
        timestamp: Date.now()
      });
      saveComments(post);
      renderComments();
      commentInput.value = '';
    });

    return div;
  }

  function saveLike(post) {
    let userPosts = allUsers[post.author].data.posts;
    let p = userPosts.find(p => p.id === post.id);
    if(p) {
      p.likes = post.likes;
      p.likesUsers = post.likesUsers;
      saveCurrentUser();
      saveUsers();
      loadFeed();
    }
  }

  function saveComments(post) {
    let userPosts = allUsers[post.author].data.posts;
    let p = userPosts.find(p => p.id === post.id);
    if(p) {
      p.comments = post.comments;
      saveCurrentUser();
      saveUsers();
      loadFeed();
    }
  }

  function deletePost(post) {
    let userPosts = allUsers[post.author].data.posts;
    allUsers[post.author].data.posts = userPosts.filter(p => p.id !== post.id);
    if(currentUser.username === post.author) currentUser.data.posts = allUsers[post.author].data.posts;
    saveUsers();
    loadFeed();
  }

  postForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const content = postContent.value.trim();
    if(content.length === 0) return;
    const newPost = {
      id: 'post_' + Date.now(),
      content,
      timestamp: Date.now(),
      likes: 0,
      likesUsers: [],
      comments: []
    };
    currentUser.data.posts.unshift(newPost);
    saveCurrentUser();
    saveUsers();
    postContent.value = '';
    loadFeed();
  });

  // ---------- Perfil ----------
  function loadProfile() {
    profileUsername.textContent = currentUser.username;
    bioInput.value = currentUser.data.bio || '';
    profileAvatar.src = currentUser.data.avatar || 'https://via.placeholder.com/100x100?text=Avatar';
    saveMsg.style.display = 'none';
  }

  avatarInput.addEventListener('change', () => {
    const file = avatarInput.files[0];
    if(!file) return;
    const reader = new FileReader();
    reader.onload = function(e) {
      currentUser.data.avatar = e.target.result;
      profileAvatar.src = e.target.result;
      saveCurrentUser();
      saveUsers();
    };
    reader.readAsDataURL(file);
  });

  btnSaveProfile.addEventListener('click', () => {
    currentUser.data.bio = bioInput.value.trim();
    saveCurrentUser();
    saveUsers();
    saveMsg.style.display = 'block';
    setTimeout(() => saveMsg.style.display = 'none', 3000);
  });

  // ---------- Lista de usu치rios para seguir ----------
  function loadUsersToFollow() {
    usersList.innerHTML = '';
    const usersToShow = Object.keys(allUsers).filter(u => u !== currentUser.username && !currentUser.data.following.includes(u));
    usersToShow.forEach(u => {
      const li = document.createElement('li');
      li.textContent = u;
      const btnFollow = document.createElement('button');
      btnFollow.textContent = 'Seguir';
      btnFollow.addEventListener('click', () => {
        currentUser.data.following.push(u);
        allUsers[u].data.followers.push(currentUser.username);
        saveCurrentUser();
        saveUsers();
        loadUsersToFollow();
        loadFeed();
      });
      li.appendChild(btnFollow);
      usersList.appendChild(li);
    });
  }

  // ---------- Chat privado (DM) ----------
  function loadChat() {
    chatMessages.innerHTML = '';
    if(!currentUser.data.chat) currentUser.data.chat = {};
    // Para simplicidade, mostraremos as mensagens entre o usu치rio e todos seus seguidores e seguidos
    let chats = currentUser.data.chat || {};

    // Carregar todas as mensagens trocadas, ordenadas por data
    let allMessages = [];
    for(let otherUser in chats) {
      chats[otherUser].forEach(m => allMessages.push({...m, user: otherUser}));
    }
    allMessages.sort((a,b) => a.timestamp - b.timestamp);

    allMessages.forEach(msg => {
      const div = document.createElement('div');
      div.textContent = `[${new Date(msg.timestamp).toLocaleTimeString()}] ${msg.from === currentUser.username ? 'Voc칡' : msg.from}: ${msg.text}`;
      chatMessages.appendChild(div);
    });
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }

  sendChatBtn.addEventListener('click', sendMessage);
  chatInput.addEventListener('keydown', (e) => {
    if(e.key === 'Enter') sendMessage();
  });

  function sendMessage() {
    const text = chatInput.value.trim();
    if(text.length === 0) return;

    const recipient = prompt('Para quem enviar mensagem? (digite o usu치rio)');
    if(!recipient || !allUsers[recipient]) {
      alert('Usu치rio inv치lido.');
      return;
    }

    if(!currentUser.data.chat[recipient]) currentUser.data.chat[recipient] = [];
    if(!allUsers[recipient].data.chat[currentUser.username]) allUsers[recipient].data.chat[currentUser.username] = [];

    const messageObj = {
      from: currentUser.username,
      to: recipient,
      text,
      timestamp: Date.now()
    };
    currentUser.data.chat[recipient].push(messageObj);
    allUsers[recipient].data.chat[currentUser.username].push(messageObj);
    saveCurrentUser();
    saveUsers();
    chatInput.value = '';
    loadChat();
  }

  // ---------- Util ----------
  function escapeHtml(text) {
    return text.replace(/[&<>"']/g, (m) => {
      switch(m) {
        case '&': return '&amp;';
        case '<': return '&lt;';
        case '>': return '&gt;';
        case '"': return '&quot;';
        case '\'': return '&#39;';
        default: return m;
      }
    });
  }

  // ---------- Tema ----------
  btnToggleTheme.addEventListener('click', () => {
    document.body.classList.toggle('dark');
  });

  // ---------- Inicializa칞칚o ----------
  loadUsers();
  initAdmin();

  if(currentUser) {
    showPage(feedPage);
    updateNavButtons(navFeed);
    btnLogout.style.display = 'inline-block';
    loadFeed();
    loadProfile();
    loadUsersToFollow();
    loadChat();
  } else {
    showPage(loginPage);
    updateNavButtons(null);
    btnLogout.style.display = 'none';
  }

  navFeed.addEventListener('click', () => {
    showPage(feedPage);
    updateNavButtons(navFeed);
    loadFeed();
  });

  navPerfil.addEventListener('click', () => {
    showPage(perfilPage);
    updateNavButtons(navPerfil);
    loadProfile();
  });

  navChat.addEventListener('click', () => {
    showPage(chatPage);
    updateNavButtons(navChat);
    loadChat();
  });

})();
</script>

</body>
</html>
